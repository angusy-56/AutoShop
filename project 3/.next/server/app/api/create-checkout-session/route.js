"use strict";(()=>{var e={};e.id=737,e.ids=[737],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5142:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>h,originalPathname:()=>v,requestAsyncStorage:()=>d,routeModule:()=>p,serverHooks:()=>m,staticGenerationAsyncStorage:()=>l,staticGenerationBailout:()=>_});var o={};r.r(o),r.d(o,{POST:()=>c}),r(5655);var a=r(3323),n=r(4647),s=r(6886);!function(){var e=Error("Cannot find module 'stripe'");throw e.code="MODULE_NOT_FOUND",e}();let i=Object(function(){var e=Error("Cannot find module 'stripe'");throw e.code="MODULE_NOT_FOUND",e}())(process.env.STRIPE_SECRET_KEY,{apiVersion:"2024-06-20"});async function c(e){try{let{invoiceNumber:t,amount:r,email:o}=await e.json(),a=await i.checkout.sessions.create({payment_method_types:["card"],line_items:[{price_data:{currency:"usd",product_data:{name:`Invoice Payment - ${t}`,description:"Mean Streets Performance - Automotive Repair"},unit_amount:Math.round(100*r)},quantity:1}],mode:"payment",customer_email:o,metadata:{invoice_number:t},success_url:`${e.nextUrl.origin}/success`,cancel_url:`${e.nextUrl.origin}/cancel`});return s.Z.json({url:a.url})}catch(e){return console.error("Error creating checkout session:",e),s.Z.json({error:"Failed to create checkout session"},{status:500})}}let u=a.AppRouteRouteModule,p=new u({definition:{kind:n.x.APP_ROUTE,page:"/api/create-checkout-session/route",pathname:"/api/create-checkout-session",filename:"route",bundlePath:"app/api/create-checkout-session/route"},resolvedPagePath:"/home/project/project 3/app/api/create-checkout-session/route.ts",nextConfigOutput:"export",userland:o}),{requestAsyncStorage:d,staticGenerationAsyncStorage:l,serverHooks:m,headerHooks:h,staticGenerationBailout:_}=p,v="/api/create-checkout-session/route"}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[303],()=>r(5142));module.exports=o})();